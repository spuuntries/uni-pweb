<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Article - Infographik.co.id</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Independent news and analysis from Indonesia. Stay informed with the latest updates on politics, economy, technology, culture, and more from Infographik.co.id"
    />
    <meta
      name="keywords"
      content="Indonesia news, Indonesian politics, economy news, technology updates, cultural news, environmental news, breaking news Indonesia"
    />
    <meta name="author" content="Infographik.co.id" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />

    <!-- Open Graph Meta Tags -->
    <meta
      property="og:title"
      content="Infographik.co.id - Complete Independence"
    />
    <meta
      property="og:description"
      content="Independent news and analysis from Indonesia. Stay informed with the latest updates on politics, economy, technology, culture, and more."
    />
    <meta property="og:image" content="https://infographik.co.id/icon.png" />
    <meta property="og:url" content="https://infographik.co.id" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Infographik.co.id" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@infographik" />
    <meta
      name="twitter:title"
      content="Infographik.co.id - Complete Independence"
    />
    <meta
      name="twitter:description"
      content="Independent news and analysis from Indonesia. Stay informed with the latest updates on politics, economy, technology, culture, and more."
    />
    <meta name="twitter:image" content="https://infographik.co.id/icon.png" />

    <!-- Apple Mobile Web App Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Infographik" />

    <!-- Microsoft Tile Meta Tags -->
    <meta name="msapplication-TileColor" content="#121212" />
    <meta name="msapplication-TileImage" content="/path-to-your-ms-icon.png" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://infographik.co.id" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        line-height: 1.6;
        color: #e0e0e0;
        background-color: #121212;
      }

      a {
        text-decoration: none;
        color: #c7a98e;
      }

      .container {
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        background-color: #1e1e1e;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        position: sticky;
        top: 0;
        z-index: 100;
      }

      .header-top {
        padding: 20px 0;
        border-bottom: 1px solid #333;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      :root {
        --fs-xxl: clamp(1.8rem, 4vw, 2.5rem); /* Hero title */
        --fs-xl: clamp(1.4rem, 3vw, 2rem); /* Section titles */
        --fs-lg: clamp(1.1rem, 2vw, 1.5rem); /* News card titles */
        --fs-md: clamp(0.9rem, 1.5vw, 1.125rem); /* Body text */
        --fs-sm: clamp(0.8rem, 1vw, 0.875rem); /* Small text */
      }

      .logo {
        height: 40px;
      }

      .social-icons {
        display: grid;
        grid-template-columns: repeat(2, auto);
        gap: 10px;
        max-width: fit-content;
      }

      @media (min-width: 512px) {
        .social-icons {
          display: flex;
          gap: 15px;
        }
      }

      .social-icons a {
        font-size: 24px;
        color: #aaa;
        transition: color 0.3s ease;
        margin: 0;
      }

      .social-icons a:hover {
        color: #c7a98e;
      }

      nav {
        overflow-x: scroll;
      }

      nav ul {
        display: flex;
        list-style: none;
        padding: 15px 0;
      }

      nav ul li {
        margin-right: 20px;
      }

      nav ul li a {
        color: #e0e0e0;
        font-weight: 500;
        transition: color 0.3s ease;
      }

      nav ul li a:hover,
      nav ul li a.active {
        color: #c7a98e;
      }

      .hero {
        margin: 30px 0;
        position: relative;
      }

      .hero-image {
        width: 100%;
        height: 500px;
        object-fit: cover;
        border-radius: 8px;
        filter: brightness(0.8);
      }

      .hero-content {
        position: absolute;
        bottom: 0;
        left: 0;
        padding: 30px;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
        color: white;
        width: 100%;
        border-radius: 0 0 8px 8px;
      }

      .hero-title {
        font-size: var(--fs-xxl);
        margin-bottom: 10px;
        color: #fff;
      }

      .headline-date {
        opacity: 0.8;
        margin-bottom: 15px;
        color: #c7a98e;
      }

      .main-content {
        display: grid;
        grid-template-columns: 1fr 300px;
        gap: 30px;
        margin: 40px 0;
      }

      /* ANCHOR: Filter controls */
      .filter-controls {
        margin-bottom: 20px;
        background: #1e1e1e;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
      }

      .filter-title {
        margin-bottom: 10px;
        color: #fff;
      }

      .filter-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .filter-button {
        background: #333;
        border: none;
        padding: 8px 15px;
        border-radius: 20px;
        color: #e0e0e0;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .filter-button:hover {
        background: #444;
      }

      .filter-button.active {
        background: #c7a98e;
        color: #121212;
      }

      .news-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 25px;
      }

      .news-card {
        background: #1e1e1e;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        transition: transform 0.3s ease;
      }

      .news-card:hover {
        transform: translateY(-5px);
      }

      .news-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }

      .news-content {
        padding: 20px;
      }

      .news-category {
        background-color: #c7a98e;
        color: #121212;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 12px;
        display: inline-block;
        margin-bottom: 10px;
        font-weight: bold;
      }

      .news-title {
        font-size: var(--fs-lg);
        margin-bottom: 10px;
        color: #fff;
      }

      .sidebar {
        background: #1e1e1e;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
      }

      .sidebar-title {
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid #333;
        color: #fff;
      }

      .filter-title,
      .sidebar-title {
        font-size: var(--fs-xl);
        margin-bottom: 10px;
      }

      .popular-news {
        margin-bottom: 30px;
      }

      .popular-item {
        display: flex;
        margin-bottom: 15px;
        padding-bottom: 15px;
        border-bottom: 1px solid #333;
      }

      .popular-image {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 4px;
        margin-right: 15px;
      }

      .popular-title {
        font-size: 14px;
        font-weight: 600;
        color: #e0e0e0;
      }

      .categories {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .category {
        background-color: #333;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 14px;
        transition:
          background-color 0.3s ease,
          color 0.3s ease;
        color: #e0e0e0;
        cursor: pointer;
      }

      .category:hover {
        background-color: #c7a98e;
        color: #121212;
      }

      body,
      p,
      .news-content p {
        font-size: var(--fs-md);
      }

      /* ANCHOR: Search section */
      .search-section {
        margin-top: 30px;
      }

      .search-form {
        display: flex;
      }

      .search-input {
        flex: 1;
        padding: 10px 15px;
        border: 1px solid #333;
        background-color: #2a2a2a;
        color: #e0e0e0;
        border-radius: 4px 0 0 4px;
      }

      .search-button {
        padding: 10px 15px;
        background-color: #c7a98e;
        color: #121212;
        border: none;
        border-radius: 0 4px 4px 0;
        cursor: pointer;
      }

      footer {
        background-color: #1a1a1a;
        color: #e0e0e0;
        padding: 40px 0 20px;
      }

      .footer-content {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 30px;
        margin-bottom: 30px;
      }

      .footer-column h3 {
        font-size: 18px;
        margin-bottom: 20px;
        position: relative;
        color: #fff;
      }

      .footer-column h3::after {
        content: "";
        position: absolute;
        left: 0;
        bottom: -8px;
        width: 40px;
        height: 2px;
        background-color: #c7a98e;
      }

      .footer-column ul {
        list-style: none;
      }

      .footer-column ul li {
        margin-bottom: 10px;
      }

      .footer-column ul li a {
        color: #aaa;
        transition: color 0.3s ease;
      }

      .footer-column ul li a:hover {
        color: #c7a98e;
      }

      .footer-bottom {
        text-align: center;
        padding-top: 20px;
        border-top: 1px solid #333;
        font-size: 14px;
        color: #aaa;
      }

      .hidden {
        display: none;
      }

      @media (max-width: 768px) {
        .news-grid {
          grid-template-columns: 1fr;
        }

        .main-content {
          grid-template-columns: 1fr;
        }

        .footer-content {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (max-width: 480px) {
        .footer-content {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 376px) {
        .social-icons {
          display: none;
        }
      }

      .news-category,
      .popular-title,
      .category,
      small,
      .footer-bottom,
      .search-input {
        font-size: var(--fs-sm);
      }

      nav ul li a {
        font-size: var(--fs-md);
      }

      .headline-date {
        font-size: var(--fs-sm);
      }

      .footer-column h3 {
        font-size: var(--fs-lg);
      }

      .footer-column ul li a {
        font-size: var(--fs-md);
      }

      .article-content {
        max-width: 800px;
        margin: 40px auto;
      }

      .article-header {
        margin-bottom: 30px;
      }

      .article-title {
        font-size: var(--fs-xxl);
        margin: 20px 0;
      }

      .article-meta {
        color: #888;
        margin-bottom: 20px;
      }

      .article-body {
        line-height: 1.8;
      }

      .article-body p {
        margin-bottom: 20px;
      }

      .article-body figure {
        margin: 30px 0;
      }

      .article-body img {
        width: 100%;
        border-radius: 8px;
      }

      .article-body figcaption {
        text-align: center;
        color: #888;
        margin-top: 10px;
      }

      .article-tags {
        margin-top: 30px;
      }

      .tag {
        background: #333;
        padding: 5px 10px;
        border-radius: 15px;
        margin-right: 10px;
        font-size: var(--fs-sm);
      }

      .error-message {
        text-align: center;
        padding: 40px;
      }

      .error-message h1 {
        margin-bottom: 20px;
      }

      .error-message a {
        display: inline-block;
        padding: 10px 20px;
        background: #c7a98e;
        color: #121212;
        border-radius: 4px;
        transition: opacity 0.3s ease;
      }

      .error-message a:hover {
        opacity: 0.8;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <div class="header-top">
          <img src="./icon.png" alt="Infographik.co.id Logo" class="logo" />
          <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-x-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
        <nav>
          <ul id="main-nav">
            <li><a href="#" class="active" data-category="all">Home</a></li>
            <li><a href="#" data-category="politics">Politics</a></li>
            <li><a href="#" data-category="crime">Crime</a></li>
            <li><a href="#" data-category="economy">Economy</a></li>
            <li><a href="#" data-category="technology">Technology</a></li>
            <li><a href="#" data-category="culture">Culture</a></li>
            <li><a href="#" data-category="environment">Environment</a></li>
            <li><a href="#" data-category="world">World</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="container">
      <article class="article-content">
        <div class="article-header">
          <span class="article-category" id="category"></span>
          <h1 class="article-title" id="title"></h1>
          <div class="article-meta">
            <span id="date"></span>
          </div>
        </div>

        <div class="article-body" id="content">
          <!-- We'll b um, inserting here lol -->
        </div>

        <div class="article-tags" id="tags">
          <!-- Moar inserts -->
        </div>
      </article>
    </main>

    <script>
      async function loadArticle() {
        function setupNavigation() {
          const navLinks = document.querySelectorAll("#main-nav a");

          navLinks.forEach((link) => {
            link.addEventListener("click", (e) => {
              e.preventDefault();
              const category = link.getAttribute("data-category");

              if (category === "all") {
                window.location.href = "index.html";
                return;
              }

              window.location.href = `index.html?category=${category}`;
            });

            link.classList.remove("active");

            // If we're on an article page, highlight the matching category
            const articleCategory = document
              .getElementById("category")
              ?.textContent.toLowerCase();
            if (
              articleCategory &&
              link.getAttribute("data-category") === articleCategory
            ) {
              link.classList.add("active");
            }
          });
        }

        // Get article ID from URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const articleId = urlParams.get("id");

        if (!articleId) {
          showError("No article ID specified");
          return;
        }

        try {
          // Fetch article data
          const response = await fetch("./news.json");
          const data = await response.json();
          const article = data.articles[articleId];

          if (!article) {
            throw new Error("Article not found");
          }

          document.title = `${article.title} - Infographik.co.id`;
          updateMetaTags(article);

          document.getElementById("category").textContent =
            article.category[0].toUpperCase() + article.category.slice(1);
          document.getElementById("title").textContent = article.title;
          document.getElementById("date").textContent = formatDate(
            article.date
          );

          const contentDiv = document.getElementById("content");

          if (article.featuredImage) {
            const figure = createFigure(article.featuredImage, article.title);
            contentDiv.appendChild(figure);
          }

          article.content.forEach((block) => {
            const element = renderContentBlock(block);
            if (element) contentDiv.appendChild(element);
          });

          if (article.tags) {
            const tagsDiv = document.getElementById("tags");
            article.tags.forEach((tag) => {
              const tagSpan = document.createElement("span");
              tagSpan.className = "tag";
              tagSpan.textContent = tag;
              tagsDiv.appendChild(tagSpan);
            });
          }
        } catch (error) {
          console.error("Error loading article:", error);
          showError("Article not found");
        }

        setupNavigation();
      }

      function updateMetaTags(article) {
        const metaTags = {
          "og:title": article.title,
          "og:description": article.content[0].text,
          "og:image": article.featuredImage,
          "twitter:title": article.title,
          "twitter:description": article.content[0].text,
          "twitter:image": article.featuredImage,
        };

        Object.entries(metaTags).forEach(([property, content]) => {
          const meta =
            document.querySelector(`meta[property="${property}"]`) ||
            document.querySelector(`meta[name="${property}"]`);
          if (meta) meta.setAttribute("content", content);
        });
      }

      function formatDate(dateString) {
        return new Date(dateString).toLocaleDateString("en-US", {
          year: "numeric",
          month: "long",
          day: "numeric",
        });
      }

      function createFigure(imageUrl, caption) {
        const figure = document.createElement("figure");
        const img = document.createElement("img");
        img.src = imageUrl;
        img.alt = caption;

        const figcaption = document.createElement("figcaption");
        figcaption.textContent = caption;

        figure.appendChild(img);
        figure.appendChild(figcaption);
        return figure;
      }

      function renderContentBlock(block) {
        switch (block.type) {
          case "paragraph":
            const p = document.createElement("p");
            p.textContent = block.text;
            return p;

          case "image":
            return createFigure(block.url, block.caption);

          default:
            console.warn(`Unknown content block type: ${block.type}`);
            return null;
        }
      }

      function showError(message) {
        document.querySelector("main").innerHTML = `
    <div class="error-message">
      <h1>404: ${message}</h1>
      <a href="index.html">Return to Homepage</a>
    </div>
  `;
      }

      // Initialize when DOM is ready
      document.addEventListener("DOMContentLoaded", loadArticle);
    </script>
  </body>
</html>
